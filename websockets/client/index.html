<!-- http://localhost/websock/ -->
<script>
var ws = null;

function connect() {
    ws = new WebSocket("ws://localhost:8080/app");
    setTimeout(bindEvents, 1000);
    setReadyState();
}

function bindEvents() {
    ws.onopen = function() {
        console.log('onopen ' + new Date(), arguments);
        setReadyState();
    };

    ws.onmessage = function() {
        console.log('onmessage ' + new Date(), arguments);
    };

    ws.onclose = function() {
        console.log('onclose ' + new Date(), arguments);
    };
}

function setReadyState() {
    console.log('ws.readyState: ' + ws.readyState);
}

connect();
</script>